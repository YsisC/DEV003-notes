import Head from 'next/head'
import Image from 'next/image'
import styles from '../styles/Home.module.css'

//test autContext 2
import { useEffect } from 'react';
import { useRouter } from 'next/router';
import { useAuth } from '../context/AuthUserContext';
import Header from '../components/Header';
import CreateArea from '../components/CreateArea';
export default function Home(props) {

  //test autContext 2
  const { authUser, loading, logOut } = useAuth();
  const router = useRouter();

 
  // Listen for changes on loading and authUser, redirect if needed
  useEffect(() => {
    if (!loading && !authUser)
      router.push('/login')
  }, [authUser, loading])


 
  // /show userData
  console.log(authUser)


  return (
    <div className={styles.container}>
      <Head>
        <title>Home Page</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
  <Header/>
      <main
      //  className={styles.main}
       >
      <CreateArea/>
      
        <h1 className="text-3xl font-bold underline">
          Hello world!

        </h1>



      </main>


    </div>
  )
}

// Home.Auth = WithPrivateRoute